{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getMenu } from '../../../api/data';\nexport default {\n  name: 'Login',\n\n  data() {\n    return {\n      form: {},\n      rules: {\n        username: [{\n          required: true,\n          message: \"请输入用户名\",\n          trigger: \"blur\"\n        }, {\n          min: 3,\n          message: \"用户名长度不能小于3位\",\n          trigger: \"blur\"\n        }],\n        password: [{\n          required: true,\n          message: \"请输入密码\",\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n\n  methods: {\n    login() {\n      getMenu(this.form).then(({\n        data: res\n      }) => {\n        console.log(res, 'io');\n\n        if (res.code === 200) {\n          this.$store.commit(\"clearMenu\");\n          this.$store.commit(\"setMenu\", res.data.menu);\n          this.$store.commit(\"setToken\", res.data.token);\n          this.$store.commit(\"addMenu\", this.$router);\n          this.$router.push({\n            name: \"home\"\n          });\n        } else {\n          this.$message.warning(res.data.message);\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;EACAA,aADA;;EAEAC;IACA;MACAC,QADA;MAEAC;QACAC,WACA;UACAC,cADA;UAEAC,iBAFA;UAGAC;QAHA,CADA,EAMA;UACAC,MADA;UAEAF,sBAFA;UAGAC;QAHA,CANA,CADA;QAaAE,WACA;UACAJ,cADA;UAEAC,gBAFA;UAGAC;QAHA,CADA;MAbA;IAFA;EAwBA,CA3BA;;EA4BAG;IACAC;MACAC;QAAAX;MAAA;QACAY;;QACA;UACA;UACA;UACA;UACA;UACA;YAAAb;UAAA;QACA,CANA,MAMA;UACA;QACA;MACA,CAXA;IAYA;;EAdA;AA5BA","names":["name","data","form","rules","username","required","message","trigger","min","password","methods","login","getMenu","console"],"sourceRoot":"src/views/login","sources":["Login.vue"],"sourcesContent":["<template>\n  <el-form\n    :model=\"form\"\n    status-icon\n    :rules=\"rules\"\n    ref=\"form\"\n    label-width=\"100px\"\n    class=\"login-container\"\n  >\n    <h1 class=\"login_title\">欢迎登录管理系统</h1>\n    <el-form-item\n      label=\"用户名\"\n      label-width=\"80px\"\n      prop=\"username\"\n      class=\"username\"\n    >\n      <el-input\n        type=\"input\"\n        v-model=\"form.username\"\n        auto-complete=\"off\"\n        placeholder=\"请输入账号\"\n      ></el-input>\n    </el-form-item>\n    <el-form-item\n      label=\"密码\"\n      label-width=\"80px\"\n      prop=\"password\"\n      class=\"password\"\n    >\n      <el-input\n        type=\"password\"\n        v-model=\"form.password\"\n        auto-complete=\"off\"\n        placeholder=\"请输密码\"\n      ></el-input>\n    </el-form-item>\n    <el-form-item class=\"login_submit\">\n      <el-button type=\"primary\" @click=\"login\" class=\"login_submit\"\n        >登录</el-button\n      >\n    </el-form-item>\n  </el-form>\n</template>\n\n<script>\nimport { getMenu } from '../../../api/data'\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      form: {},\n      rules: {\n        username: [\n          {\n            required: true,\n            message: \"请输入用户名\",\n            trigger: \"blur\",\n          },\n          {\n            min: 3,\n            message: \"用户名长度不能小于3位\",\n            trigger: \"blur\",\n          },\n        ],\n        password: [\n          {\n            required: true,\n            message: \"请输入密码\",\n            trigger: \"blur\",\n          },\n        ],\n      },\n    };\n  },\n  methods: {\n    login() {\n      getMenu(this.form).then(({ data: res }) => {\n        console.log(res, 'io')\n        if (res.code === 200) {\n          this.$store.commit(\"clearMenu\");\n          this.$store.commit(\"setMenu\", res.data.menu);\n          this.$store.commit(\"setToken\", res.data.token);\n          this.$store.commit(\"addMenu\", this.$router);\n          this.$router.push({ name: \"home\" });\n        } else {\n          this.$message.warning(res.data.message);\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.login-container {\n  border-radius: 15px;\n  background-clip: padding-box;\n  margin: 180px auto;\n  width: 350px;\n  padding: 35px 35px 15px 35px;\n  background-color: #fff;\n  border: 1px solid #eaeaea;\n  box-shadow: 0 0 25px #cac6c6;\n}\n.login_title {\n  margin: 0px auto 40px auto;\n  text-align: center;\n  color: #409eff;\n}\n.login_submit {\n  margin: 10px auto 10px auto;\n}\n</style>"]},"metadata":{},"sourceType":"module"}