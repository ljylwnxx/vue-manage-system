{"ast":null,"code":"import \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.map.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getHomeData } from \"../../../api/data\";\nimport * as echarts from 'echarts'; // 引入echrts\n\nimport Echarts from \"@/components/Echarts\";\nexport default {\n  name: \"Home\",\n  components: {\n    Echarts: Echarts\n  },\n  data: function data() {\n    return {\n      userImg: require(\"@/assets/images/user.png\"),\n      echartData: {\n        order: {\n          xData: [],\n          series: []\n        },\n        user: {\n          xData: [],\n          series: []\n        },\n        video: {\n          series: []\n        }\n      },\n      tableData: [{\n        name: \"oppo\",\n        todayBuy: 100,\n        monthBuy: 300,\n        totalBuy: 800\n      }, {\n        name: \"vivo\",\n        todayBuy: 100,\n        monthBuy: 300,\n        totalBuy: 800\n      }, {\n        name: \"苹果\",\n        todayBuy: 100,\n        monthBuy: 300,\n        totalBuy: 800\n      }, {\n        name: \"小米\",\n        todayBuy: 100,\n        monthBuy: 300,\n        totalBuy: 800\n      }, {\n        name: \"三星\",\n        todayBuy: 100,\n        monthBuy: 300,\n        totalBuy: 800\n      }, {\n        name: \"魅族\",\n        todayBuy: 100,\n        monthBuy: 300,\n        totalBuy: 800\n      }],\n      tableLabel: {\n        name: \"品牌\",\n        todayBuy: \"今日购买量\",\n        monthBuy: \"本月购买量\",\n        totalBuy: \"总购买量\"\n      },\n      countData: [{\n        name: \"今日支付订单\",\n        value: 1234,\n        icon: \"success\",\n        color: \"#2ec7c9\"\n      }, {\n        name: \"今日收藏订单\",\n        value: 210,\n        icon: \"star-on\",\n        color: \"#ffb980\"\n      }, {\n        name: \"今日未支付订单\",\n        value: 1234,\n        icon: \"s-goods\",\n        color: \"#5ab1ef\"\n      }, {\n        name: \"本月支付订单\",\n        value: 1234,\n        icon: \"success\",\n        color: \"#2ec7c9\"\n      }, {\n        name: \"本月收藏订单\",\n        value: 210,\n        icon: \"star-on\",\n        color: \"#ffb980\"\n      }, {\n        name: \"本月未支付订单\",\n        value: 1234,\n        icon: \"s-goods\",\n        color: \"#5ab1ef\"\n      }]\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    getHomeData().then(function (res) {\n      var _res$data = res.data,\n          code = _res$data.code,\n          data = _res$data.data;\n\n      if (code == 20000) {\n        _this.tableData = data.tableData;\n        var order = data.orderData; // Object.keys()传入参数返回key值\n\n        var keyArray = Object.keys(order.data[0]);\n        var series = [];\n        keyArray.forEach(function (key) {\n          series.push({\n            name: key,\n            data: order.data.map(function (item) {\n              return item[key];\n            }),\n            type: \"line\"\n          });\n        });\n        _this.echartData.order.xData = data.orderData.date;\n        _this.echartData.order.series = series;\n        var option = {\n          xAxis: {\n            data: order.date\n          },\n          yAxis: {},\n          tooltip: {\n            trigger: \"axis\"\n          },\n          legend: {\n            data: keyArray\n          },\n          series: series\n        };\n        _this.echartData.user.xData = data.userData.map(function (item) {\n          return item.date;\n        });\n        _this.echartData.user.series = [{\n          name: \"新增用户\",\n          data: data.userData.map(function (item) {\n            return item.new;\n          }),\n          type: \"bar\"\n        }, {\n          name: \"活跃用户\",\n          data: data.userData.map(function (item) {\n            return item.active;\n          }),\n          type: \"bar\"\n        }]; // 饼状图\n\n        _this.echartData.video.series = [{\n          data: data.videoData,\n          type: \"pie\"\n        }];\n      }\n    });\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;AACA,mC,CACA;;AACA;AAEA;AACAA,cADA;AAEAC;AACAC;AADA,GAFA;AAKAC,MALA,kBAKA;AACA;AACAC,kDADA;AAEAC;AACAC;AACAC,mBADA;AAEAC;AAFA,SADA;AAKAC;AACAF,mBADA;AAEAC;AAFA,SALA;AASAE;AACAF;AADA;AATA,OAFA;AAeAG,kBACA;AACAX,oBADA;AAEAY,qBAFA;AAGAC,qBAHA;AAIAC;AAJA,OADA,EAOA;AACAd,oBADA;AAEAY,qBAFA;AAGAC,qBAHA;AAIAC;AAJA,OAPA,EAaA;AACAd,kBADA;AAEAY,qBAFA;AAGAC,qBAHA;AAIAC;AAJA,OAbA,EAmBA;AACAd,kBADA;AAEAY,qBAFA;AAGAC,qBAHA;AAIAC;AAJA,OAnBA,EAyBA;AACAd,kBADA;AAEAY,qBAFA;AAGAC,qBAHA;AAIAC;AAJA,OAzBA,EA+BA;AACAd,kBADA;AAEAY,qBAFA;AAGAC,qBAHA;AAIAC;AAJA,OA/BA,CAfA;AAqDAC;AACAf,kBADA;AAEAY,yBAFA;AAGAC,yBAHA;AAIAC;AAJA,OArDA;AA2DAE,kBACA;AACAhB,sBADA;AAEAiB,mBAFA;AAGAC,uBAHA;AAIAC;AAJA,OADA,EAOA;AACAnB,sBADA;AAEAiB,kBAFA;AAGAC,uBAHA;AAIAC;AAJA,OAPA,EAaA;AACAnB,uBADA;AAEAiB,mBAFA;AAGAC,uBAHA;AAIAC;AAJA,OAbA,EAmBA;AACAnB,sBADA;AAEAiB,mBAFA;AAGAC,uBAHA;AAIAC;AAJA,OAnBA,EAyBA;AACAnB,sBADA;AAEAiB,kBAFA;AAGAC,uBAHA;AAIAC;AAJA,OAzBA,EA+BA;AACAnB,uBADA;AAEAiB,mBAFA;AAGAC,uBAHA;AAIAC;AAJA,OA/BA;AA3DA;AAkGA,GAxGA;AAyGAC,SAzGA,qBAyGA;AAAA;;AACAC;AACA;AAAA;AAAA;;AACA;AACA;AACA,mCAFA,CAGA;;AACA;AACA;AACAC;AACAd;AACAR,qBADA;AAEAG;AAAA;AAAA,cAFA;AAGAoB;AAHA;AAKA,SANA;AAOA;AACA;AACA;AACAC;AACArB;AADA,WADA;AAIAsB,mBAJA;AAKAC;AACAC;AADA,WALA;AAQAC;AACAzB;AADA,WARA;AAWAK;AAXA;AAcA;AAAA;AAAA;AACA,wCACA;AACAR,sBADA;AAEAG;AAAA;AAAA,YAFA;AAGAoB;AAHA,SADA,EAMA;AACAvB,sBADA;AAEAG;AAAA;AAAA,YAFA;AAGAoB;AAHA,SANA,EA9BA,CA2CA;;AAEA,yCACA;AACApB,8BADA;AAEAoB;AAFA,SADA;AAMA;AACA,KAtDA;AAuDA;AAjKA","names":["name","components","Echarts","data","userImg","echartData","order","xData","series","user","video","tableData","todayBuy","monthBuy","totalBuy","tableLabel","countData","value","icon","color","mounted","getHomeData","keyArray","type","xAxis","yAxis","tooltip","trigger","legend"],"sourceRoot":"src/views/home","sources":["index.vue"],"sourcesContent":["<template>\n  <el-row :gutter=\"20\">\n    <el-col :span=\"8\" style=\"margin-top: 20px\">\n      <el-card shadow=\"hoveralways\">\n        <div class=\"user\">\n          <img :src=\"userImg\" alt=\"\" />\n          <hr />\n          <div class=\"userInfo\">\n            <p class=\"name\">Admin</p>\n            <p class=\"access\">超级管理员</p>\n          </div>\n        </div>\n        <div class=\"loginInfo\">\n          <p>上次登录时间：<span>2021-7-19</span></p>\n          <p>上次登录地点：<span>武汉</span></p>\n        </div>\n      </el-card>\n      <el-card shadow=\"hover\" style=\"margin-top: 20px\">\n        <el-table :data=\"tableData\" border style=\"width: 100%\">\n          <!-- for循环对象参数为val key index  prop接收参数为tableDate下的key label接收的参数为tableDate下的val-->\n          <el-table-column\n            v-for=\"(val, key) in tableLabel\"\n            :prop=\"key\"\n            :label=\"val\"\n            :key=\"key\"\n          >\n          </el-table-column>\n        </el-table>\n      </el-card>\n    </el-col>\n    <el-col :span=\"16\" style=\"margin-top: 20px\">\n      <div class=\"numItem\">\n        <el-card\n          shadow=\"hover\"\n          v-for=\"item in countData\"\n          :body-style=\"{ padding: '10px', display: 'flex' }\"\n          :key=\"item.name\"\n        >\n          <i\n            :class=\"['el-icon-' + item.icon]\"\n            :style=\"{ 'background-color': item.color }\"\n          ></i>\n          <div class=\"detail\">\n            <p class=\"num\">￥{{ item.value }}</p>\n            <p>{{ item.name }}</p>\n          </div>\n        </el-card>\n      </div>\n      <!-- 折线图 -->\n      <el-card\n        shadow=\"hover\"\n        :body-style=\"{ padding: '20px', height: '280px' }\"\n        class=\"el-card-echarts\"\n      >\n      <!-- <div ref=\"orderEcharts\" style=\"height:250px;\">\n      </div> -->\n\n        <echarts\n          :chartData=\"echartData.order\"\n          :chartType=\"'line'\"\n          style=\"height: 250px\"\n          ref=\"orderEcharts\"\n        ></echarts>\n      </el-card>\n      <div class=\"graph\">\n        <!-- 柱状图 -->\n        <el-card shadow=\"hover\">\n          <!-- <div \n            style=\"height: 250px\"\n            ref=\"userEcharts\">\n          </div> -->\n          <echarts\n            :chartData=\"echartData.user\"\n            :chartType=\"'bar'\"            \n            style=\"height: 250px\"\n          ></echarts>\n        </el-card>\n        <!-- 饼状图 -->\n        <el-card shadow=\"hover\">\n          <echarts\n            :chartData=\"echartData.video\"\n            :chartType=\"'pie'\"\n            style=\"height: 250px\"\n            ref=\"videoEcharts\"\n          ></echarts>\n        </el-card>\n      </div>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nimport { getHomeData } from \"../../../api/data\";\nimport * as echarts from 'echarts'\n// 引入echrts\nimport Echarts from \"@/components/Echarts\";\n\nexport default {\n  name: \"Home\",\n  components: {\n    Echarts,\n  },\n  data() {\n    return {\n      userImg: require(\"@/assets/images/user.png\"),\n      echartData: {\n        order: {\n          xData: [],\n          series: [],\n        },\n        user: {\n          xData: [],\n          series: [],\n        },\n        video: {\n          series: [],\n        },\n      },\n      tableData: [\n        {\n          name: \"oppo\",\n          todayBuy: 100,\n          monthBuy: 300,\n          totalBuy: 800,\n        },\n        {\n          name: \"vivo\",\n          todayBuy: 100,\n          monthBuy: 300,\n          totalBuy: 800,\n        },\n        {\n          name: \"苹果\",\n          todayBuy: 100,\n          monthBuy: 300,\n          totalBuy: 800,\n        },\n        {\n          name: \"小米\",\n          todayBuy: 100,\n          monthBuy: 300,\n          totalBuy: 800,\n        },\n        {\n          name: \"三星\",\n          todayBuy: 100,\n          monthBuy: 300,\n          totalBuy: 800,\n        },\n        {\n          name: \"魅族\",\n          todayBuy: 100,\n          monthBuy: 300,\n          totalBuy: 800,\n        },\n      ],\n      tableLabel: {\n        name: \"品牌\",\n        todayBuy: \"今日购买量\",\n        monthBuy: \"本月购买量\",\n        totalBuy: \"总购买量\",\n      },\n      countData: [\n        {\n          name: \"今日支付订单\",\n          value: 1234,\n          icon: \"success\",\n          color: \"#2ec7c9\",\n        },\n        {\n          name: \"今日收藏订单\",\n          value: 210,\n          icon: \"star-on\",\n          color: \"#ffb980\",\n        },\n        {\n          name: \"今日未支付订单\",\n          value: 1234,\n          icon: \"s-goods\",\n          color: \"#5ab1ef\",\n        },\n        {\n          name: \"本月支付订单\",\n          value: 1234,\n          icon: \"success\",\n          color: \"#2ec7c9\",\n        },\n        {\n          name: \"本月收藏订单\",\n          value: 210,\n          icon: \"star-on\",\n          color: \"#ffb980\",\n        },\n        {\n          name: \"本月未支付订单\",\n          value: 1234,\n          icon: \"s-goods\",\n          color: \"#5ab1ef\",\n        },\n      ],\n    };\n  },\n  mounted() {\n    getHomeData().then((res) => {\n      const { code, data } = res.data;\n      if (code == 20000) {\n        this.tableData = data.tableData;\n        const order = data.orderData;\n        // Object.keys()传入参数返回key值\n        const keyArray = Object.keys(order.data[0]);\n        const series = [];\n        keyArray.forEach((key) => {\n          series.push({\n            name: key,\n            data: order.data.map((item) => item[key]),\n            type: \"line\",\n          });\n        });\n        this.echartData.order.xData = data.orderData.date;\n        this.echartData.order.series = series;\n        const option = {\n          xAxis: {\n            data: order.date,\n          },\n          yAxis: {},\n          tooltip: {\n            trigger: \"axis\",\n          },\n          legend: {\n            data: keyArray,\n          },\n          series,\n        };\n\n        this.echartData.user.xData = data.userData.map(item => item.date);\n        this.echartData.user.series = [\n          {\n            name: \"新增用户\",\n            data: data.userData.map((item) => item.new),\n            type: \"bar\",\n          },\n          {\n            name: \"活跃用户\",\n            data: data.userData.map((item) => item.active),\n            type: \"bar\",\n          },\n        ];\n\n        // 饼状图\n        \n        this.echartData.video.series = [\n          {\n            data: data.videoData,\n            type: \"pie\",\n          },\n        ];\n      }\n    });\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.user {\n  width: auto;\n  img {\n    width: 100%;\n  }\n}\n.numItem {\n  display: flex;\n  flex-flow: wrap;\n  margin-bottom: 20px;\n  .el-card {\n    width: 33.33%;\n    i {\n      width: 100px;\n      height: 100px;\n      &:before {\n        font-size: 40px;\n        margin-left: 30px;\n        color: #fff;\n        line-height: 100px;\n      }\n    }\n    .detail {\n      padding: 10px;\n      .num {\n        font-size: 30px;\n        line-height: 60px;\n      }\n      p {\n        font-size: 15px;\n      }\n    }\n  }\n}\n.el-card-echarts {\n  overflow: auto;\n}\n.graph {\n  display: flex;\n  margin-top: 20px;\n  height: 280px;\n  .el-card {\n    width: 48%;\n    height: 280px;\n    &:nth-child(1) {\n      margin-right: 4%;\n    }\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}