{"ast":null,"code":"import _toConsumableArray from \"/Users/admin/Desktop/web-ele-ui/vue-manage/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport Cookie from 'js-cookie'; // import router from '../../router'\n\nexport default {\n  state: {\n    isCollapse: false,\n    tabsList: [{\n      path: '/home',\n      name: 'home',\n      label: '首页',\n      icon: 'home'\n    }],\n    currentMenu: null,\n    menu: []\n  },\n  mutations: {\n    collapseMenu: function collapseMenu(state) {\n      state.isCollapse = !state.isCollapse;\n    },\n    selectMenu: function selectMenu(state, val) {\n      if (val.name !== 'home') {\n        state.currentMenu = val;\n        var result = state.tabsList.findIndex(function (item) {\n          return item.name == val.name;\n        });\n\n        if (result === -1) {\n          state.tabsList.push(val);\n        } else {\n          state.collapseMenu = null;\n        }\n      }\n    },\n    removeTab: function removeTab(state, val) {\n      var tabIndex = state.tabsList.findIndex(function (item) {\n        return item.name == val.name;\n      });\n\n      if (tabIndex != -1) {\n        state.tabsList.splice(tabIndex, 1);\n      }\n    },\n    setMenu: function setMenu(state, val) {\n      state.menu = val;\n      Cookie.set('menu', JSON.stringify(val));\n    },\n    clearMenu: function clearMenu(state, val) {\n      state.menu = [];\n      Cookie.remove('menu');\n    },\n    addMenu: function addMenu(state, router) {\n      console.log(router);\n\n      if (!Cookie.get('menu')) {\n        return;\n      }\n\n      var menu = JSON.parse(Cookie.get('menu'));\n      state.menu = menu;\n      var menuArray = [];\n      menu.forEach(function (item) {\n        if (item.children) {\n          item.children = item.children.map(function (item) {\n            item.component = function () {\n              return import(\"@/views/\".concat(item.url));\n            };\n\n            return item;\n          });\n          menuArray.push.apply(menuArray, _toConsumableArray(item.children));\n        } else {\n          console.log(item.url);\n\n          item.component = function () {\n            return import(\"@/views/\".concat(item.url));\n          };\n\n          menuArray.push(item);\n        }\n      }); // 路由的动态添加\n\n      menuArray.forEach(function (item) {\n        router.addRoute('Main', item);\n      });\n    }\n  }\n};","map":{"version":3,"sources":["/Users/admin/Desktop/web-ele-ui/vue-manage/src/store/user.js"],"names":["Cookie","state","isCollapse","tabsList","path","name","label","icon","currentMenu","menu","mutations","collapseMenu","selectMenu","val","result","findIndex","item","push","removeTab","tabIndex","splice","setMenu","set","JSON","stringify","clearMenu","remove","addMenu","router","console","log","get","parse","menuArray","forEach","children","map","component","url","addRoute"],"mappings":"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","sourcesContent":["import Cookie from 'js-cookie'\n// import router from '../../router'\nexport default {\n    state: {\n        isCollapse: false,\n        tabsList:[\n            {\n                path:'/home',\n                name:'home',\n                label:'首页',\n                icon:'home'\n            }\n        ],\n        currentMenu:null,\n        menu:[]\n    },\n    mutations: {\n        collapseMenu(state){\n            state.isCollapse = !state.isCollapse\n        },\n        selectMenu(state,val){\n            if(val.name !== 'home'){\n                state.currentMenu = val\n                const result = state.tabsList.findIndex(item => item.name == val.name)\n                if(result === -1){\n                    state.tabsList.push(val)\n                }else{\n                    state.collapseMenu = null\n                }\n            }\n        },\n        removeTab(state,val){\n            const tabIndex = state.tabsList.findIndex(item => item.name == val.name)\n            if(tabIndex != -1){\n                state.tabsList.splice(tabIndex,1)\n            }\n        },\n        setMenu(state,val){\n            state.menu = val\n            Cookie.set('menu',JSON.stringify(val))\n        },\n        clearMenu(state,val){\n            state.menu = []\n            Cookie.remove('menu')\n        },\n        addMenu(state,router){\n            console.log(router)\n            if(!Cookie.get('menu')){\n                return\n            }\n            const menu = JSON.parse(Cookie.get('menu'))\n            state.menu = menu\n            const menuArray = []\n            menu.forEach(item => {\n                if(item.children){\n                    item.children = item.children.map((item)=>{\n                        item.component = ()=> import(`@/views/${item.url}`)\n                        return item\n                    })\n                    menuArray.push(...item.children)\n                }else{\n                    console.log(item.url)\n\n                    item.component = () => import(`@/views/${item.url}`)\n                    menuArray.push(item)\n                }\n            })\n            // 路由的动态添加\n            menuArray.forEach(item => {\n                router.addRoute('Main',item)\n            })\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}