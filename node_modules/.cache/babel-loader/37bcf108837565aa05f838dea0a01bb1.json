{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState, mapMutations } from \"vuex\";\nexport default {\n  name: 'CommonTag',\n  methods: {\n    //点击按钮，进行一个路由的切换\n    changeMenu(item) {\n      this.$router.push({\n        name: item.name\n      }).catch(err => err);\n    },\n\n    ...mapMutations({\n      close: 'closeTag'\n    }),\n\n    handleClose(tag, index) {\n      const length = this.tags.length - 1;\n      this.close(tag);\n\n      if (tag.name !== this.$route.name) {\n        return;\n      }\n\n      if (index === length) {\n        //删除的为最后一个tag，跳转到左边的tag\n        this.$router.push({\n          name: this.tags[index - 1].name\n        });\n      } else {\n        this.$router.push({\n          name: this.tags[index].name\n        });\n      }\n    }\n\n  },\n  computed: { //与面包屑数据是一致的\n    ...mapState({\n      tags: state => state.tab.tabsList\n    })\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;AAmBA;AACA;EACAA,iBADA;EAEAC;IACA;IACAC;MACA,aACAC,IADA,CACA;QACAH;MADA,CADA,EAIAI,KAJA,CAIAC,UAJA;IAKA,CARA;;IASA;MACAC;IADA,EATA;;IAYAC;MACA;MACA;;MACA;QACA;MACA;;MACA;QACA;QACA;UACAP;QADA;MAGA,CALA,MAKA;QACA;UACAA;QADA;MAGA;IACA;;EA5BA,CAFA;EAgCAQ,YACA;IACA;MACAC;IADA;EAFA;AAhCA","names":["name","methods","changeMenu","push","catch","err","close","handleClose","computed","tags"],"sourceRoot":"src/components","sources":["CommonTag.vue"],"sourcesContent":["<template>\n  <div class=\"tabs\">\n    <!-- 高亮的显示:effect 判断路由路径和tag.name，两者一直显示高亮$route并非$router-->\n    <el-tag\n      v-for=\"(tag, index) in tags\"\n      :key=\"tag.name\"\n      :closable=\"tag.name !== 'home'\"\n      :effect=\"$route.name === tag.name ? 'dark' : 'plain'\"\n      @click=\"changeMenu(tag)\"\n      size=\"small\"\n      @close=\"handleClose(tag, index)\"\n      class=\"pointer\"\n    >\n      {{ tag.label }}\n    </el-tag>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapMutations } from \"vuex\";\nexport default {\n  name: 'CommonTag',\n  methods: {\n    //点击按钮，进行一个路由的切换\n    changeMenu(item) {\n      this.$router\n        .push({\n          name: item.name\n        })\n        .catch((err) => err)\n    },\n    ...mapMutations({\n      close: 'closeTag'\n    }),\n    handleClose(tag, index) {\n      const length = this.tags.length - 1\n      this.close(tag)\n      if (tag.name !== this.$route.name) {\n        return\n      }\n      if (index === length) {\n        //删除的为最后一个tag，跳转到左边的tag\n        this.$router.push({\n          name: this.tags[index - 1].name\n        });\n      } else {\n        this.$router.push({\n          name: this.tags[index].name\n        })\n      }\n    }\n  },\n  computed: {\n    //与面包屑数据是一致的\n    ...mapState({\n      tags: (state) => state.tab.tabsList\n    })\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.tabs {\n  padding: 20px;\n  .el-tag {\n    margin-right: 15px;\n    cursor: pointer;\n  }\n}\n</style>"]},"metadata":{},"sourceType":"module"}