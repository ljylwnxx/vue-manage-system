{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport Mock from 'mockjs'; // get请求从config.url获取参数，post从config.body中获取参数\n\nfunction param2Obj(url) {\n  const search = url.split('?')[1];\n\n  if (!search) {\n    return {};\n  }\n\n  return JSON.parse('{\"' + decodeURIComponent(search).replace(/\"/g, '\\\\\"').replace(/&/g, '\",\"').replace(/=/g, '\":\"') + '\"}');\n}\n\nlet List = [];\nconst count = 200;\n\nfor (let i = 0; i < count; i++) {\n  List.push(Mock.mock({\n    id: Mock.Random.guid(),\n    name: Mock.Random.cname(),\n    addr: Mock.mock('@county(true)'),\n    'age|18-60': 1,\n    birth: Mock.Random.date(),\n    sex: Mock.Random.integer(0, 1)\n  }));\n}\n\nexport default {\n  /**\n   * 获取列表\n   * 要带参数 name, page, limt; name可以不填, page,limit有默认值。\n   * @param name, page, limit\n   * @return {{code: number, count: number, data: *[]}}\n   */\n  getUserList: config => {\n    const {\n      name,\n      page = 1,\n      limit = 20\n    } = param2Obj(config.url);\n    console.log('name:' + name, 'page:' + page, '分页大小limit:' + limit);\n    const mockList = List.filter(user => {\n      if (name && user.name.indexOf(name) === -1 && user.addr.indexOf(name) === -1) return false;\n      return true;\n    });\n    const pageList = mockList.filter((item, index) => index < limit * page && index >= limit * (page - 1));\n    return {\n      code: 20000,\n      count: mockList.length,\n      list: pageList\n    };\n  },\n\n  /**\n   * 增加用户\n   * @param name, addr, age, birth, sex\n   * @return {{code: number, data: {message: string}}}\n   */\n  createUser: config => {\n    const {\n      name,\n      addr,\n      age,\n      birth,\n      sex\n    } = JSON.parse(config.body);\n    console.log(JSON.parse(config.body));\n    List.unshift({\n      id: Mock.Random.guid(),\n      name: name,\n      addr: addr,\n      age: age,\n      birth: birth,\n      sex: sex\n    });\n    return {\n      code: 20000,\n      data: {\n        message: '添加成功'\n      }\n    };\n  },\n\n  /**\n   * 删除用户\n   * @param id\n   * @return {*}\n   */\n  deleteUser: config => {\n    const {\n      id\n    } = param2Obj(config.url);\n\n    if (!id) {\n      return {\n        code: -999,\n        message: '参数不正确'\n      };\n    } else {\n      List = List.filter(u => u.id !== id);\n      return {\n        code: 20000,\n        message: '删除成功'\n      };\n    }\n  },\n\n  /**\n   * 批量删除\n   * @param config\n   * @return {{code: number, data: {message: string}}}\n   */\n  batchremove: config => {\n    let {\n      ids\n    } = param2Obj(config.url);\n    ids = ids.split(',');\n    List = List.filter(u => !ids.includes(u.id));\n    return {\n      code: 20000,\n      data: {\n        message: '批量删除成功'\n      }\n    };\n  },\n\n  /**\n   * 修改用户\n   * @param id, name, addr, age, birth, sex\n   * @return {{code: number, data: {message: string}}}\n   */\n  updateUser: config => {\n    const {\n      id,\n      name,\n      addr,\n      age,\n      birth,\n      sex\n    } = JSON.parse(config.body);\n    const sex_num = parseInt(sex);\n    List.some(u => {\n      if (u.id === id) {\n        u.name = name;\n        u.addr = addr;\n        u.age = age;\n        u.birth = birth;\n        u.sex = sex_num;\n        return true;\n      }\n    });\n    return {\n      code: 20000,\n      data: {\n        message: '编辑成功'\n      }\n    };\n  }\n};","map":{"version":3,"names":["Mock","param2Obj","url","search","split","JSON","parse","decodeURIComponent","replace","List","count","i","push","mock","id","Random","guid","name","cname","addr","birth","date","sex","integer","getUserList","config","page","limit","console","log","mockList","filter","user","indexOf","pageList","item","index","code","length","list","createUser","age","body","unshift","data","message","deleteUser","u","batchremove","ids","includes","updateUser","sex_num","parseInt","some"],"sources":["/Users/admin/Desktop/vue-manage-system 2/api/mockServeData/user.js"],"sourcesContent":["import Mock from 'mockjs'\n\n// get请求从config.url获取参数，post从config.body中获取参数\nfunction param2Obj (url) {\n  const search = url.split('?')[1]\n  if (!search) {\n    return {}\n  }\n  return JSON.parse(\n    '{\"' +\n    decodeURIComponent(search)\n      .replace(/\"/g, '\\\\\"')\n      .replace(/&/g, '\",\"')\n      .replace(/=/g, '\":\"') +\n    '\"}'\n  )\n}\n\nlet List = []\nconst count = 200\nfor (let i = 0; i < count; i++) {\n  List.push(\n    Mock.mock({\n      id: Mock.Random.guid(),\n      name: Mock.Random.cname(),\n      addr: Mock.mock('@county(true)'),\n      'age|18-60': 1,\n      birth: Mock.Random.date(),\n      sex: Mock.Random.integer(0, 1)\n    })\n  )\n}\n\nexport default {\n  /**\n   * 获取列表\n   * 要带参数 name, page, limt; name可以不填, page,limit有默认值。\n   * @param name, page, limit\n   * @return {{code: number, count: number, data: *[]}}\n   */\n  getUserList: config => {\n    const { name, page = 1, limit = 20 } = param2Obj(config.url)\n    console.log('name:' + name, 'page:' + page, '分页大小limit:' + limit)\n    const mockList = List.filter(user => {\n      if (name && user.name.indexOf(name) === -1 && user.addr.indexOf(name) === -1) return false\n      return true\n    })\n    const pageList = mockList.filter((item, index) => index < limit * page && index >= limit * (page - 1))\n    return {\n      code: 20000,\n      count: mockList.length,\n      list: pageList\n    }\n  },\n  /**\n   * 增加用户\n   * @param name, addr, age, birth, sex\n   * @return {{code: number, data: {message: string}}}\n   */\n  createUser: config => {\n    const { name, addr, age, birth, sex } = JSON.parse(config.body)\n    console.log(JSON.parse(config.body))\n    List.unshift({\n      id: Mock.Random.guid(),\n      name: name,\n      addr: addr,\n      age: age,\n      birth: birth,\n      sex: sex\n    })\n    return {\n      code: 20000,\n      data: {\n        message: '添加成功'\n      }\n    }\n  },\n  /**\n   * 删除用户\n   * @param id\n   * @return {*}\n   */\n  deleteUser: config => {\n    const { id } = param2Obj(config.url)\n    if (!id) {\n      return {\n        code: -999,\n        message: '参数不正确'\n      }\n    } else {\n      List = List.filter(u => u.id !== id)\n      return {\n        code: 20000,\n        message: '删除成功'\n      }\n    }\n  },\n  /**\n   * 批量删除\n   * @param config\n   * @return {{code: number, data: {message: string}}}\n   */\n  batchremove: config => {\n    let { ids } = param2Obj(config.url)\n    ids = ids.split(',')\n    List = List.filter(u => !ids.includes(u.id))\n    return {\n      code: 20000,\n      data: {\n        message: '批量删除成功'\n      }\n    }\n  },\n  /**\n   * 修改用户\n   * @param id, name, addr, age, birth, sex\n   * @return {{code: number, data: {message: string}}}\n   */\n  updateUser: config => {\n    const { id, name, addr, age, birth, sex } = JSON.parse(config.body)\n    const sex_num = parseInt(sex)\n    List.some(u => {\n      if (u.id === id) {\n        u.name = name\n        u.addr = addr\n        u.age = age\n        u.birth = birth\n        u.sex = sex_num\n        return true\n      }\n    })\n    return {\n      code: 20000,\n      data: {\n        message: '编辑成功'\n      }\n    }\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}