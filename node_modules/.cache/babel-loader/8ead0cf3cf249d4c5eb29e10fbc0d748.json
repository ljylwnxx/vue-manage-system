{"ast":null,"code":"import _objectSpread from \"/Users/admin/Desktop/web-ele-ui/vue-manage/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState, mapMutations } from \"vuex\";\nexport default {\n  name: \"CommonTag\",\n  methods: _objectSpread(_objectSpread({\n    //点击按钮，进行一个路由的切换\n    changeMenu: function changeMenu(item) {\n      this.$router.push({\n        name: item.name\n      }).catch(function (err) {\n        return err;\n      });\n    }\n  }, mapMutations({\n    close: \"closeTag\"\n  })), {}, {\n    handleClose: function handleClose(tag, index) {\n      var length = this.tags.length - 1;\n      this.close(tag);\n\n      if (tag.name !== this.$route.name) {\n        return;\n      }\n\n      if (index === length) {\n        //删除的为最后一个tag，跳转到左边的tag\n        this.$router.push({\n          name: this.tags[index - 1].name\n        });\n      } else {\n        this.$router.push({\n          name: this.tags[index].name\n        });\n      }\n    }\n  }),\n  computed: _objectSpread({}, mapState({\n    tags: function tags(state) {\n      return state.tab.tabsList;\n    }\n  }))\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACAA,mBADA;AAEAC;AACA;AACAC,cAFA,sBAEAC,IAFA,EAEA;AACA,mBACAC,IADA,CACA;AACAJ;AADA,OADA,EAIAK,KAJA,CAIA;AAAA;AAAA,OAJA;AAKA;AARA,KASAC;AACAC;AADA,IATA;AAYAC,eAZA,uBAYAC,GAZA,EAYAC,KAZA,EAYA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACAV;AADA;AAGA,OALA,MAKA;AACA;AACAA;AADA;AAGA;AACA;AA5BA,IAFA;AAgCAW,8BAEAC;AACAC;AAAA;AAAA;AADA,IAFA;AAhCA","names":["name","methods","changeMenu","item","push","catch","mapMutations","close","handleClose","tag","index","computed","mapState","tags"],"sourceRoot":"src/components","sources":["CommonTag.vue"],"sourcesContent":["<template>\n  <div class=\"tabs\">\n    <!-- 高亮的显示:effect 判断路由路径和tag.name，两者一直显示高亮\n         $route并非$router\n     -->\n    <el-tag\n      v-for=\"(tag, index) in tags\"\n      :key=\"tag.name\"\n      :closable=\"tag.name !== 'home'\"\n      :effect=\"$route.name === tag.name ? 'dark' : 'plain'\"\n      @click=\"changeMenu(tag)\"\n      size=\"small\"\n      @close=\"handleClose(tag, index)\"\n    >\n      {{ tag.label }}\n    </el-tag>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapMutations } from \"vuex\";\nexport default {\n  name: \"CommonTag\",\n  methods: {\n    //点击按钮，进行一个路由的切换\n    changeMenu(item) {\n      this.$router\n        .push({\n          name: item.name,\n        })\n        .catch((err) => err);\n    },\n    ...mapMutations({\n      close: \"closeTag\",\n    }),\n    handleClose(tag, index) {\n      const length = this.tags.length - 1;\n      this.close(tag);\n      if (tag.name !== this.$route.name) {\n        return;\n      }\n      if (index === length) {\n        //删除的为最后一个tag，跳转到左边的tag\n        this.$router.push({\n          name: this.tags[index - 1].name,\n        });\n      } else {\n        this.$router.push({\n          name: this.tags[index].name,\n        });\n      }\n    },\n  },\n  computed: {\n    //与面包屑数据是一致的\n    ...mapState({\n      tags: (state) => state.tab.tabsList,\n    }),\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.tabs {\n  padding: 20px;\n  .el-tag {\n    margin-right: 15px;\n    cursor: pointer;\n  }\n}\n</style>"]},"metadata":{},"sourceType":"module"}